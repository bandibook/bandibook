<details>
<summary>ë„ì€</summary>
> MVC, MVP, MVVMì„ ì‚´í´ë³¸ë‹¤.<br/><br/>ì´ íŒ¨í„´ë“¤ì€ ê³¼ê±°ì— ë°ìŠ¤í¬í†± ì• í”Œë¦¬ì¼€ì´ì…˜ê³¼ ì„œë²„ ì‚¬ì´ë“œ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì¡°í™”ì— ì£¼ë¡œ ì‚¬ìš©ë˜ì–´ ì™”ì§€ë§Œ, í˜„ì¬ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ í™˜ê²½ì—ë„ ì ìš©ë˜ì–´ ì‚¬ìš©ë˜ê³  ìˆë‹¤.

## MVC íŒ¨í„´

- ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ êµ¬ì¡°ë¥¼ ê°œì„ í•˜ê¸° ìœ„í•´
- **ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬ë¥¼ í™œìš©**

```
ğŸ’¡ ë¹„ì¦ˆë‹ˆìŠ¤ ë°ì´í„°(ëª¨ë¸), UI(ë·°), ë¡œì§ê³¼ ì‚¬ìš©ì ì…ë ¥ì„ ê´€ë¦¬(ì»¨íŠ¸ë¡¤ëŸ¬)ë¡œ ë‚˜ëˆˆë‹¤.
```

- ëª¨ë¸(Model)
  - ë°ì´í„°ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ê´€ë¦¬
  - ë°ì´í„°ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ê°€ê³µí•˜ëŠ” ì—­í• 
- ë·°(View)
  - UIë¥¼ ë‹´ë‹¹í•˜ëŠ” ë¶€ë¶„
  - ë°ì´í„°ë¥¼ ë°›ì•„ì„œ í™”ë©´ì— ë Œë”ë§í•˜ëŠ” ì—­í• 
  - ë·° ìì²´ì—ì„œëŠ” ë°ì´í„°ë¥¼ ë³€ê²½ X, ì…ë ¥ì„ ë°›ì•„ ì»¨íŠ¸ë¡¤ëŸ¬ì— ì „ë‹¬
- ì»¨íŠ¸ë¡¤ëŸ¬(Controller)
  - ì‚¬ìš©ìì˜ ì…ë ¥ì„ ì²˜ë¦¬í•˜ê³  ëª¨ë¸ê³¼ ë·°ë¥¼ ì—°ê²°í•˜ëŠ” ì—­í• 
  - ë·°ì—ì„œ ë°›ì€ ì‚¬ìš©ì ì…ë ¥ì„ ëª¨ë¸ì— ì „ë‹¬í•˜ê³ , ë³€ê²½ëœ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ë·°ì— ì—…ë°ì´íŠ¸

**_ğŸ¤” React ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ MVC íŒ¨í„´ì„ ì ìš©í•´ë³¸ë‹¤ë©´_**

- Model â†’ ê´€ì‹¬ì‚¬ ë¶„ë¦¬ëœ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (í›…, ìƒíƒœ ê´€ë¦¬ í•¨ìˆ˜, API í˜¸ì¶œ ë“±)
- View â†’ React ì»´í¬ë„ŒíŠ¸ (UI ë Œë”ë§)
- Model â†’ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ (ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬, ìƒíƒœ ì—…ë°ì´íŠ¸ ë“±)
  - ì£¼ë¡œ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ì—ì„œ ì‚¬ìš©ì ì…ë ¥ìœ¼ë¡œ Modelì— ì „ë‹¬í•´ ì²˜ë¦¬

ë¼ê³  ëŠê»´ì¡Œë‹¤.

## MVP íŒ¨í„´

- UI(View)ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(Model)ì„ ë” ê°•í•˜ê²Œ ë¶„ë¦¬í•˜ê¸° ìœ„í•´ ë“±ì¥í•œ íŒ¨í„´
- PresenterëŠ” **UI ë¡œì§ì„ ë‹´ë‹¹**
  - ViewëŠ” ì˜¤ì§ UIë§Œ ê´€ë¦¬, PresenterëŠ” UIë¥¼ ì–´ë–»ê²Œ í‘œí˜„í• ì§€ë¥¼ ê²°ì •
  - PresenterëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í¬í•¨ X
- PresenterëŠ” Viewì™€ ì§ì ‘ ì†Œí†µí•˜ì§€ë§Œ, Modelì€ Viewì™€ ì§ì ‘ í†µì‹ í•˜ì§€ ì•ŠëŠ”ë‹¤.
- ì¼ë°˜ì ìœ¼ë¡œ Viewì™€ 1:1 ê´€ê³„ë¥¼ ê°€ì§„ë‹¤.
- Viewì™€ Modelì€ ì„œë¡œ ì•Œ í•„ìš”ê°€ ì—†ë‹¤.

## MVVM íŒ¨í„´

- Viewì™€ Modelì„ ë¶„ë¦¬í•˜ë©´ì„œë„, ë” ë‚˜ì€ **ì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©**ì„ ì œê³µí•˜ëŠ” êµ¬ì¡°
- Model: ìƒíƒœ ë° ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ë‹¹
- View: ì‚¬ìš©ìì—ê²Œ ë³´ì—¬ì§€ëŠ” UIë¥¼ ë‹´ë‹¹
  - ì‚¬ìš©ì ì…ë ¥ì„ ViewModelì—ê²Œ ì „ë‹¬, ViewModelì˜ ìƒíƒœë¥¼ ë°˜ì˜í•˜ì—¬ UIë¥¼ ê°±ì‹ 
- ViewModel: ë°ì´í„° ë³€í™˜ê¸°ì˜ ì—­í• ì„ í•˜ëŠ” íŠ¹ìˆ˜í•œ ì»¨íŠ¸ë¡¤ëŸ¬
  - Modelë¡œë¶€í„° ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ì„œ Viewì— í‘œì‹œí•  ìˆ˜ ìˆëŠ” í˜•íƒœë¡œ ë³€í™˜
  - ViewModelì€ Viewì™€ Modelì„ ì—°ê²°í•˜ì§€ë§Œ, Viewë¥¼ ì§ì ‘ì ìœ¼ë¡œ ìˆ˜ì • X

```
ğŸ’¡ ì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©
   - Viewì™€ ViewModel ê°„ì— ë°ì´í„°ê°€ ìë™ìœ¼ë¡œ ë™ê¸°í™”
   - Viewì—ì„œ ì‚¬ìš©ìê°€ ì…ë ¥í•œ ë°ì´í„°ëŠ” ViewModelì— ìë™ìœ¼ë¡œ ë°˜ì˜, ViewModelì˜ ë°ì´í„°ê°€ ë³€ê²½ë˜ë©´ Viewê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸
```

## MVC vs MVP vs MVVM

- MVPì™€ MVVMì€ ëª¨ë‘ MVCì—ì„œ íŒŒìƒëœ íŒ¨í„´
- ì´ íŒŒìƒ íŒ¨í„´ë“¤ ì‚¬ì´ì˜ í•µì‹¬ ì°¨ì´ì ì€ **ê° ê³„ì¸µì´ ë‹¤ë¥¸ ê³„ì¸µì— ëŒ€í•´ ê°–ëŠ” ì˜ì¡´ì„±ê³¼ ì„œë¡œ ì–¼ë§ˆë‚˜ ê°•í•˜ê²Œ ì—°ê²°**ë˜ì–´ ìˆëŠ”ì§€ì—

```
ğŸ’¡ MVCì—ì„œëŠ” Viewê°€ ì•„í‚¤í…ì²˜ì˜ ìµœìƒë‹¨ì— ìœ„ì¹˜í•˜ê³  ê·¸ ì˜†ì—ëŠ” Controllerê°€ ìˆë‹¤
```

- Modelì€ Controller ì•„ë˜ì— ìˆë‹¤.
- ViewëŠ” Controllerì— ëŒ€í•´ ì•Œê³  ìˆê³ , ControllerëŠ” Modelì— ëŒ€í•´ ì•Œê³  ìˆë‹¤.
- ì´ êµ¬ì¡°ì—ì„œ ViewëŠ” Modelì— ì§ì ‘ ì ‘ê·¼í•  ìˆ˜ ìˆë‹¤.

```
ğŸ’¡ MVPì—ì„œëŠ” Controllerì˜ ì—­í• ì´ Presenterë¡œ ëŒ€ì²´ëœë‹¤
```

- PresenterëŠ” Viewì™€ ë™ì¼í•œ ê³„ì¸µì— ì¡´ì¬
- Viewì™€ Model ì–‘ìª½ì—ì„œ ë°œìƒí•˜ëŠ” ì´ë²¤íŠ¸ë¥¼ ìˆ˜ì‹ í•˜ê³  ì´ë“¤ ê°„ì˜ ë™ì‘ì„ ì¡°ì •

```
ğŸ’¡ MVVMì€ ViewModelì´ Viewë¥¼ ì°¸ì¡°í•  í•„ìš”ê°€ ì—†ë‹¤. ViewëŠ” ViewModelì˜ ì†ì„±ì„ ë°”ì¸ë”©í•˜ì—¬ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.
```

## ì™€! ì–µì§€ë¡œ íŒ¨í„´ì„ ì‘¤ì…”ë„£ì–´ë³´ë ¤ë‹ˆê¹Œ ì‰½ì§€ ì•Šë‹¤.

- GPTí•œí…Œ MVC, MVP, MVVMì„ ê°ê° ì ìš©í•œ ë¦¬ì•¡íŠ¸ TODO List ì˜ˆì œë¥¼ ë‚´ë†“ìœ¼ë¼ë‹ˆê¹Œ
- ì–µì§€ ì½”ë“œê°™ì´ ë³´ì´ëŠ” ê²ƒë“¤ë§Œ ë‚´ë†“ì•˜ë‹¤.
- ì˜ íƒ€ì¼ëŸ¬ì„œ ì°¨ì´ì ì´ ë‘ë“œëŸ¬ì§€ê²Œ ë³¼ë ¤ê³  í•´ë„ ê³„ì† ì–µì§€ê°™ì´ ëŠê»´ì¡Œë‹¤..

íŒ¨í„´ì„ ì–µì§€ë¡œ ë³´ê¸°ë³´ë‹¤ëŠ” ì´ëŸ¬í•œ MV\* íŒ¨í„´ë“¤ì€ í¬ê²Œ ë³´ë©´

- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ (ì œì¼ ë³µì¡í•œ)
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¶”ìƒí™”í•œ í•¸ë“¤ëŸ¬
- View ë¡œì§

ì„ ë¶„ë¦¬ë¡œ ëŠê¼ˆë‹¤. ìœ„ MV\* íŒ¨í„´ì„ íŒŒë³´ê¸° ì „ì—ëŠ” View ë¡œì§ì— ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ê°€ ë§ì´ í¬í•¨ë˜ì–´ ìˆì–´ View ì»´í¬ë„ŒíŠ¸ê°€ ë¹„ëŒ€í•´ì§€ëŠ” ê±¸ ë§ì´ ëŠë¼ê³¤ í–ˆë‹¤.

ğŸ‘‡ AS-IS

```tsx
const TransferMoneyInputScreen = () => {
  const [amount, setAmount] = useState<number>(0);
  const { isOverLimit, message } = useValidateTransferAmount(amount);
  const isDisableTransfer = amount === 0 || isOverLimit;

  return (
    <div css={contentCss}>
      <Popover open={isOverLimit}>
        <Popover.Trigger>
          <ReceiverInfoWithInput
            name="ê¹€ê²½ì² "
            bankImageUrl="https://t1.daumcdn.net/kakaopay/assignment/frontend/assets/shinhan.png"
            bankName="ì‹ í•œ"
            accountNumber="110-1234-5678"
            amount={amount}
            setAmount={setAmount}
            state={!isOverLimit ? 'default' : 'error'}
          />
        </Popover.Trigger>
        <Popover.Content arrow theme="red">
          {message}
        </Popover.Content>
      </Popover>
      <MyInfo />

      <SafeAreaBottom>
        <AmountButtons disabled={isOverLimit} setAmount={setAmount} />
        <AmountKeypad disabled={isOverLimit} setAmount={setAmount} />
        <Button theme="yellow" disabled={isDisableTransfer}>
          í™•ì¸
        </Button>
      </SafeAreaBottom>
    </div>
  );
};

export default TransferMoneyInputScreen;
```

ğŸ‘‡ TO-BE

- ë‹¨ìˆœ Viewë¡œì§ë§Œ ê°€ì§€ê³  ìˆëŠ” ì»´í¬ë„ŒíŠ¸ì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë“¤ì–´ê°€ì•¼ í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ë¥¼ ì¢€ ë” ìª¼ê°°ë‹¤.
- ì‘ì€ Viewë“¤ì˜ ì¡°í•©ì„ í•˜ë‚˜ì˜ Viewë¡œ ë§Œë“¤ì–´ Controllerì—ì„œ ë‹¤ë£° ê²½ìš°
  - ë‚´ë¶€ íŠ¹ì • ì»´í¬ë„ŒíŠ¸ì—ì„œë§Œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ìœ„í•´ ìƒìœ„ Viewì—ì„œ ë¶ˆí•„ìš”í•˜ê²Œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê³  props drillingì´ ë°œìƒí•˜ëŠ” ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆë‹¤.
  - ë˜í•œ, ì»´íŒŒìš´ë“œ íŒ¨í„´ì„ ì‚¬ìš©í•˜ì—¬ Viewì˜ í˜•íƒœë‚˜ ë°ì´í„° íë¦„ì„ ì¢€ ë” ëª…í™•í•˜ê³  ì§ê´€ì ìœ¼ë¡œ íŒŒì•…í•  ìˆ˜ ìˆê²Œ í•œë‹¤. ì´ëŠ” ëšœë ·í•œ êµ¬ì¡°ì™€ í•¨ê»˜ ê´€ë¦¬ê°€ ìˆ˜ì›”í•˜ë„ë¡ í•œë‹¤.
- í©ì–´ì ¸ìˆë˜ í•¸ë“¤ëŸ¬ í•¨ìˆ˜ë“¤ì„ Controllerì—ì„œ ì¼ê´„ë¡œ í™•ì¸í•  ìˆ˜ ìˆì–´ ìœ ì§€ë³´ìˆ˜ë©´ì—ì„œë„ ë” ìš©ì´í•˜ë‹¤ê³  ìƒê°ë“¤ì—ˆë‹¤.

```tsx
const TransferMoneyViewContainer = (props: TransferMoneyViewProps) => {
  const { children } = props;
  return <div css={containerCss}>{children}</div>;
};

const ReceiverInfoView = (props: ReceiverInfoViewProps) => {
  const { name, bankInfo, accountNumber, amount } = props;
  return ...
};

const InputView = forwardRef<HTMLInputElement, InputViewProps>((props, ref) => {
  const { state, ...restProps } = props;
  return ...
})

const MyAccountInfoView = (props: MyAccountInfoViewProps) => {
  const { bankName, NumberTail, balance } = props;
  return ...
};


const AmountPadsView = (props: AmountPadsViewProps) => {
  const { state, onAction } = props;
  return ...
};

const TransferMoneyView = {
  Container: TransferMoneyViewContainer,
  MyAccountInfo: MyAccountInfoView,
  ReceiverInfo: ReceiverInfoView,
  Input: InputView,
  AmountPads: AmountPadsView,
};

const TransferViewController = () => {
  const [amount, setAmount] = useState(0);
  const receiverInfo = useReceiverInfo();
  const myAccountInfo = useMyAccountInfo();

  const { data: limits } = useGetLimits() // ì´ë¯¸ ì²˜ë¦¬ê¹Œì§€ selectë¼ì§€ ë§ˆì¹œ
  const { isOverLimit } = useValidateTransferAmount(amount, [...limits])

  const handleAmountAction = (actionType: 'change' | 'append' | 'delete') => {
     case 'change':
      return (value: string) => setAmount(Number(value));

    case 'append':
      return (digit: string) => {
        setAmount((prev) => Number(prev.toString() + digit));
      };

    case 'delete':
      return () => {
        setAmount((prev) => {
          const newValue = prev.toString().slice(0, -1);
          return newValue ? Number(newValue) : 0;
        });
      };
  }

  return (
    <TransferMoneyView.Container>
      <TransferMoneyView.ReceiverInfo {...receiverInfo} />
      <TransferMoneyView.Input state={!isOverLimit} value={amount} onChange={e => handleAmountAction('change')(e.target.value)} />
      <TransferMoneyView.MyAccountInfo {...myAccountInfo} />
      <SafeAreaBottom>
        <TransferMoneyView.AmountPads state={!isOverLimit} onAction={handleAmountAction} />
      </SafeAreaBottom>
    </TransferMoneyView.Container>
  );
};
```

</details>

<details>
<summary>ì„¸ë¯¼</summary>
## íŒ¨í„´ì˜ ì¢…ë¥˜

### MVC íŒ¨í„´

- Model: ë„ë©”ì¸ ê´€ë ¨ ë°ì´í„°ë¥¼ ë‹¤ë£¨ë©° Viewì™€ Controller ì— ëŒ€í•´ì„œëŠ” ê´€ì—¬í•˜ì§€ ì•ŠìŒ
- View: ëª¨ë¸ì˜ í˜„ì¬ ìƒíƒœë¥¼ í‘œí˜„
- Controller: Viewì™€ Modelì˜ ìƒí˜¸ì‘ìš© ë¡œì§ì„ ì²˜ë¦¬

#### ë ˆì´ì‹±ì¹´ ê²Œì„ì„ MVC íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„

- Model: Car.js
  - Car ì´ë¼ëŠ” í•˜ë‚˜ì˜ ê°ì²´ë¡œì„œ ì°¨ì˜ ì›€ì§ì„ (move) ì„ ì±…ì„ì§„ë‹¤.

```js
const { GAME } = require('../constant/constants');
const common = require('../utils/common');

class Car {
  #name;
  #distance;

  constructor(name) {
    this.#name = name;
    this.#distance = 0;
  }

  move() {
    const randomNumber = common.generateRandomNumberInRange(GAME.MOVE_CONDITION.min, GAME.MOVE_CONDITION.max);
    if (randomNumber >= GAME.MOVE_CONDITION.satisfaction) this.#distance += 1;
  }

  getName() {
    return this.#name;
  }

  getDistance() {
    return this.#distance;
  }
}

module.exports = Car;
```

- View: InputView.js
  - readline ëª¨ë“ˆì„ í†µí•´ì„œ console ì…ë ¥ ë°›ê¸°

```js
const readlinePromises = require('node:readline/promises');
const rl = readlinePromises.createInterface({
  input: process.stdin,
  output: process.stdout,
});

const InputView = {
  async readline(text) {
    const input = await rl.question(text);
    return input;
  },
};

module.exports = InputView;
```

- View: OutputView.js
  - console output

```js
const OutputView = {
  print(text) {
    console.log(text);
  },
};

module.exports = OutputView;
```

- Controller: RacingGame.js
  - view, model ìƒí˜¸ì‘ìš© ë¡œì§

```js
const InputView = require('../view/InputView');
const OutputView = require('../view/OutputView');
const Car = require('../domain/Car');
const { GAME, INPUT, OUTPUT } = require('../constant/constants');
const { validateCarNames, validateWinningDistance } = require('../validation/input.js');
const { toInt } = require('../utils/common');

class RacingGame {
  #cars;
  #winningDistance;
  #histories;

  constructor() {
    this.#cars = [];
    this.#winningDistance = 0;
    this.#histories = [];
  }

  play() {
    OutputView.print(OUTPUT.startGame);
    this.setCars();
  }

  async setCars() {
    const input = await InputView.readline(INPUT.carName);
    const carNames = input.split(GAME.nameDivider);
    if (!validateCarNames(carNames)) return this.setCars();
    this.makeCars(carNames);
  }

  async makeCars(carNames) {
    carNames.forEach((carName) => {
      this.#cars.push(new Car(carName));
    });
    this.setWinningDistance();
  }

  async setWinningDistance() {
    this.#winningDistance = toInt(await InputView.readline(INPUT.winningDistance));
    if (!validateWinningDistance(this.#winningDistance)) return this.setWinningDistance();
    this.moveCars();
  }

  moveCars() {
    this.#cars.forEach((car) => car.move());
    this.#histories.push(this.#cars.map((car) => ({ name: car.getName(), distance: car.getDistance() })));
    if (!this.#cars.some((car) => car.getDistance() >= this.#winningDistance)) {
      this.moveCars();
      return;
    }
    this.#showResult();
  }

  #showResult() {
    OutputView.print(OUTPUT.resultMent);
    this.#histories.forEach((history) => {
      history.forEach((car) => {
        OutputView.print(OUTPUT.result(car));
      });
      OutputView.print('');
    });
    this.showWinners();
  }

  showWinners() {
    const winners = this.#cars.filter((car) => car.isFinish(this.#winningDistance));
    OutputView.print(OUTPUT.winner(winners));
  }
}
module.exports = RacingGame;
```

---

### MVP íŒ¨í„´

- Presenter: UIì™€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ì¤‘ì¬

#### ì „í™˜ ì´ìœ  (ì¥ì )

- í…ŒìŠ¤íŠ¸ ìš©ì´ì„±: PresenterëŠ” UIì™€ ë…ë¦½ëœ ìˆœìˆ˜ ë¡œì§ìœ¼ë¡œ êµ¬í˜„ë˜ë¯€ë¡œ, ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ë¥¼ í†µí•œ ê²€ì¦ì´ ì‰¬ì›€
- ìœ ì—°ì„± ë° ëª¨ë“ˆí™”: View ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ìƒí™”í•¨ìœ¼ë¡œì¨ ë‹¤ì–‘í•œ UI êµ¬í˜„(ì˜ˆ: ì›¹, ëª¨ë°”ì¼) ê°„ì— ì½”ë“œë¥¼ ì¬ì‚¬ìš©í•˜ê±°ë‚˜ êµì²´í•˜ê¸° í¸ë¦¬
- ë‹¨ìˆœí•œ View êµ¬í˜„: ViewëŠ” ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ í‘œí˜„í•˜ëŠ” ì—­í• ë§Œ ìˆ˜í–‰í•˜ë¯€ë¡œ, ë³µì¡í•œ ë¡œì§ì´ ì¤„ì–´ë“¤ê³  UI ë³€ê²½ì— ë”°ë¥¸ ì˜í–¥ì„ ìµœì†Œí™”

#### MVCì™€ì˜ ì°¨ì´ì 

- ì˜ë¯¸ë¡ ì ì¸ ìˆ˜ì¤€ì´ì—¬ì„œ, MVCì— ì¡´ì¬í•˜ëŠ” ê·¼ë³¸ì ì¸ ë¬¸ì œë“¤ì´ ì¡´ì¬í•  ê°€ëŠ¥ì„±ì´ í¬ë‹¤.

---

### MVVM íŒ¨í„´

- ViewModel: Modelê³¼ View ì‚¬ì´ì˜ ì¸í„°í˜ì´ìŠ¤ ì—­í•  (ë°ì´í„°ë¥¼ ë°”ì¸ë”©)
  - DOM(View) -> DOM Listeners (ViewModel) -> JS Logic(Model) -> Directives(ViewModel) -> DOM(View) ì™€ ê°™ì€ ìˆœì„œ

ëŒ€í‘œì ìœ¼ë¡œ Vue ê°€ VMì„ ì´ìš©í•œ ì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©ì„ ìˆ˜í–‰í•œ í”„ë ˆì„ì›Œí¬ì´ë‹¤.

#### ì „í™˜ ì´ìœ  (ì¥ì )

- ì–‘ë°©í–¥ ë°ì´í„° ë°”ì¸ë”©: Viewì™€ ViewModel ê°„ ìë™ ë™ê¸°í™”ê°€ ì´ë£¨ì–´ì ¸, ì½”ë“œì—ì„œ ì§ì ‘ UI ì—…ë°ì´íŠ¸ë¥¼ ê´€ë¦¬í•  í•„ìš”ê°€ ì—†ìŠµë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ê°œë°œ ìƒì‚°ì„±ì´ í–¥ìƒë˜ê³ , UI ì—…ë°ì´íŠ¸ ë¡œì§ì´ ë‹¨ìˆœí•´ì§
- ëª…ë ¹(Command) ë° ì´ë²¤íŠ¸ ì²˜ë¦¬: ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ ë³´ê´€í•˜ëŠ” ì—­í• ì„ ë„˜ì–´ ì‚¬ìš©ìì˜ í–‰ë™(ì˜ˆ: ë²„íŠ¼ í´ë¦­)ê³¼ ê´€ë ¨ëœ ëª…ë ¹(Command)ë“¤ì„ êµ¬í˜„í•˜ì—¬, Viewì™€ ì—°ë™í•  ìˆ˜ ìˆê²Œ í•¨

#### ë ˆì´ì‹±ì¹´ ê²Œì„ì„ MVVM íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„

`Modelê³¼ ViewëŠ” MVCì™€ ë™ì¼í•¨.`

- ViewModel

```js
const EventEmitter = require('events');
const Car = require('../domain/Car');
const { GAME } = require('../constant/constants');
const { validateCarNames, validateWinningDistance } = require('../validation/input.js');
const { toInt } = require('../utils/common');

class RacingGameViewModel extends EventEmitter {
  #cars;
  #winningDistance;
  #histories;

  constructor() {
    super();
    this.#cars = [];
    this.#winningDistance = 0;
    this.#histories = [];
  }

  setCars(carNames) {
    if (!validateCarNames(carNames)) {
      this.emit('error', 'ì˜ëª»ëœ ìë™ì°¨ ì´ë¦„ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }
    carNames.forEach((name) => {
      this.#cars.push(new Car(name));
    });
    this.emit('carsSet');
  }

  setWinningDistance(distance) {
    const intDistance = toInt(distance);
    if (!validateWinningDistance(intDistance)) {
      this.emit('error', 'ì˜ëª»ëœ ìš°ìŠ¹ ê±°ë¦¬ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }
    this.#winningDistance = intDistance;
    this.emit('winningDistanceSet');
  }

  moveCars() {
    const moveRound = () => {
      this.#cars.forEach((car) => car.move());
      const currentRound = this.#cars.map((car) => ({
        name: car.getName(),
        distance: car.getDistance(),
      }));
      this.#histories.push(currentRound);
      this.emit('roundCompleted', currentRound);

      if (this.#cars.some((car) => car.getDistance() >= this.#winningDistance)) {
        this.emit('raceCompleted', this.#cars, this.#histories);
      } else {
        setImmediate(moveRound);
      }
    };

    moveRound();
  }

  getWinningDistance() {
    return this.#winningDistance;
  }
}

module.exports = RacingGameViewModel;
```

```js
const InputView = require('../view/InputView');
const OutputView = require('../view/OutputView');
const RacingGameViewModel = require('../viewmodel/RacingGameViewModel');
const { INPUT, OUTPUT, GAME } = require('../constant/constants');

class RacingGameView {
  constructor() {
    this.viewModel = new RacingGameViewModel();

    this.viewModel.on('error', (message) => {
      OutputView.print(message);
      this.start();
    });

    this.viewModel.on('carsSet', () => {
      this.askWinningDistance();
    });

    this.viewModel.on('winningDistanceSet', () => {
      this.viewModel.moveCars();
    });

    this.viewModel.on('roundCompleted', (roundData) => {
      roundData.forEach((carData) => {
        OutputView.print(OUTPUT.result(carData));
      });
      OutputView.print('');
    });

    this.viewModel.on('raceCompleted', (cars, histories) => {
      OutputView.print(OUTPUT.resultMent);
      histories.forEach((round) => {
        round.forEach((carData) => {
          OutputView.print(OUTPUT.result(carData));
        });
        OutputView.print('');
      });
      this.showWinners(cars);
    });
  }

  async start() {
    OutputView.print(OUTPUT.startGame);
    await this.askCarNames();
  }

  async askCarNames() {
    const input = await InputView.readline(INPUT.carName);
    const carNames = input.split(GAME.nameDivider);
    this.viewModel.setCars(carNames);
  }

  async askWinningDistance() {
    const input = await InputView.readline(INPUT.winningDistance);
    this.viewModel.setWinningDistance(input);
  }

  showWinners(cars) {
    const winningDistance = this.viewModel.getWinningDistance();
    const winners = cars.filter((car) => car.getDistance() >= winningDistance);
    OutputView.print(OUTPUT.winner(winners));
    process.exit(0);
  }
}

module.exports = RacingGameView;
```

</details>
