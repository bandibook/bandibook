# 계층형 설계 1


## 계층형 설계란 무엇인가?
## 설계 감각을 키우기
#### 전문가의 저주

전문가는 본인의 전문 분야를 잘 알지만, 설명은 잘 못하는 것으로 악명 높다


#### 계층형 설계 감각을 키우기 위한 입력

## 계층형 설계 패턴

1. 직접 구현
  - 너무 구체적이라면 코드에서 나는 냄새
2. 추상화 벽
  - 인터페이스를 사용해 코드를 만들면 높은 차원으로 생각할 수 있다.
  - 고수준의 추상화 단계만 생각하면 되기 때문에 두뇌 용량의 한계를 극복할 수 있다.
3. 작은 인터페이스
  - 중요한 인터페이스는 작고 강력한 동작으로 구성하는 것이 좋다.
4. 편리한 계층
  - 코드와 코드가 속한 추상화 꼐층은 작업할때 편리해야 한다.



### 패턴 1 : 직접 구현

```js
// as-is
function freeTieClip(cart) {
    // ...
    for(const i=0; i<cart.length; i++) {
        const item = cart[i];
        if (item.name === "tie") {
            hasTie = true;
        }
        if (item.name === "tie clip") {
            hasTieClip = true;
        }
    }
    // ...   
}

function isInCart(cart, name) {
    for (const i=0; i<cart.length; i++) {
        if (cart[i].name === name) {
            return true;
        }
    }
    return false;
}

// to-be
function freeTieClip(cart) {
    const hasTie = isInCart(cart, "tie");
    const hasTieClip = isInCart(cart, "tie cilp");
}
```
